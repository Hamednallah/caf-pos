package com.yourcompany.cafeteria.dao; import org.junit.jupiter.api.*; import java.sql.Connection; import static org.junit.jupiter.api.Assertions.*; import com.yourcompany.cafeteria.util.TestDatabase; import com.yourcompany.cafeteria.model.Item; import java.math.BigDecimal; public class ItemsDAOTest { Connection conn; @BeforeEach public void setup() throws Exception { conn = TestDatabase.open(); } @AfterEach public void teardown() throws Exception { conn.close(); } @Test public void insertAndList() throws Exception { ItemsDAO dao = new ItemsDAO(conn); Item it = new Item(); it.setName("UT Item"); it.setDescription("desc"); it.setPrice(new BigDecimal("9.99")); int id = dao.insert(it); assertTrue(id>0); var all = dao.listAll(); assertTrue(all.stream().anyMatch(i->"UT Item".equals(i.getName()))); } }
