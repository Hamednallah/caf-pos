package com.yourcompany.cafeteria.dao; import org.junit.jupiter.api.*; import java.sql.Connection; import static org.junit.jupiter.api.Assertions.*; import com.yourcompany.cafeteria.util.TestDatabase; public class UsersDAOTest { Connection conn; @BeforeEach public void setup() throws Exception { conn = TestDatabase.open(); } @AfterEach public void tearDown() throws Exception { conn.close(); } @Test public void createAndFindUser() throws Exception { UsersDAO dao = new UsersDAO(conn); int id = dao.createUser("testuser","hash","Test User",1); assertTrue(id>0); var u = dao.findByUsername("testuser"); assertNotNull(u); assertEquals("testuser", u.getUsername()); } }
