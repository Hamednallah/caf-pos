package com.yourcompany.cafeteria.ui; import javafx.fxml.FXML; import javafx.scene.control.TableView; import com.yourcompany.cafeteria.util.DataSourceProvider; import com.yourcompany.cafeteria.service.ItemsService; import com.yourcompany.cafeteria.model.Item; import javafx.collections.FXCollections; import javafx.collections.ObservableList; public class ItemsController { @FXML private TableView<Item> itemsTable; private ObservableList<Item> items = FXCollections.observableArrayList(); @FXML public void initialize(){ try (var c = DataSourceProvider.getConnection()){ var s = new ItemsService(c); items.setAll(s.listAll()); itemsTable.setItems(items); } catch(Exception e){ e.printStackTrace(); } } @FXML public void handleAddItem(){ try (var c = DataSourceProvider.getConnection()){ var s = new ItemsService(c); Item it = new Item(); it.setName("NewItem"); it.setPrice(new java.math.BigDecimal("0.00")); int id = s.add(it); it.setId(id); items.add(it); } catch(Exception e){ e.printStackTrace(); } } }
